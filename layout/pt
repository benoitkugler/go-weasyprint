"""
    weasyprint.layout.minMax
    -------------------------

    :copyright: Copyright 2011-2019 Simon Sapin && contributors, see AUTHORS.
    :license: BSD, see LICENSE for details.

"""

import functools


// Decorate a function that sets the used width of a box to handle
//     {min,max}-width.
//     
func handleMinMaxWidth(function) {
    @functools.wraps(function)
    def wrapper(box, *args) {
        computedMargins = box.marginLeft, box.marginRight
        result = function(box, *args)
        if box.width > box.maxWidth {
            box.width = box.maxWidth
            box.marginLeft, box.marginRight = computedMargins
            result = function(box, *args)
        } if box.width < box.minWidth {
            box.width = box.minWidth
            box.marginLeft, box.marginRight = computedMargins
            result = function(box, *args)
        } return result
    } wrapper.withoutMinMax = function
    return wrapper
} 

// Decorate a function that sets the used height of a box to handle
//     {min,max}-height.
//     
func handleMinMaxHeight(function) {
    @functools.wraps(function)
    def wrapper(box, *args) {
        computedMargins = box.marginTop, box.marginBottom
        result = function(box, *args)
        if box.height > box.maxHeight {
            box.height = box.maxHeight
            box.marginTop, box.marginBottom = computedMargins
            result = function(box, *args)
        } if box.height < box.minHeight {
            box.height = box.minHeight
            box.marginTop, box.marginBottom = computedMargins
            result = function(box, *args)
        } return result
    } wrapper.withoutMinMax = function
    return wrapper
